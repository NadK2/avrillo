import{j as e,a as j,r as m,W as h,Y as w}from"./app-DXIVQPXb.js";import{A as g,a as c,P as b}from"./Api-anBHNKmD.js";function v({children:s}){return e.jsxs("div",{className:"min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:pt-0 bg-gray-100",children:[e.jsx("div",{children:e.jsx(j,{href:"/",children:e.jsx(g,{className:"w-20 h-20 fill-current text-gray-500"})})}),e.jsx("div",{className:"w-full sm:max-w-md mt-6 px-6 py-4 bg-white shadow-md overflow-hidden sm:rounded-lg",children:s})]})}function u({message:s,className:a="",...t}){return s?e.jsx("p",{...t,className:"text-sm text-red-600 "+a,children:s}):null}function x({value:s,className:a="",children:t,...r}){return e.jsx("label",{...r,className:"block font-medium text-sm text-gray-700 "+a,children:s||t})}const f=m.forwardRef(function({type:a="text",className:t="",isFocused:r=!1,...d},l){const n=l||m.useRef();return m.useEffect(()=>{r&&n.current.focus()},[]),e.jsx("input",{...d,type:a,className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm "+t,ref:n})});function E({status:s,canResetPassword:a}){const{data:t,setData:r,post:d,processing:l,errors:n,reset:N}=h({email:"",password:"",remember:!1});m.useEffect(()=>(c.getToken()&&(window.location="/"),()=>{}),[]);const p=o=>{o.preventDefault(),c.login(t).then(i=>{i.data.token&&(c.setToken(i.data),window.location="/")}).catch(i=>{console.log(i)})};return e.jsxs(v,{children:[e.jsx(w,{title:"Log in"}),s&&e.jsx("div",{className:"mb-4 font-medium text-sm text-green-600",children:s}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"email",value:"Email"}),e.jsx(f,{id:"email",type:"email",name:"email",value:t.email,className:"mt-1 block w-full",autoComplete:"username",isFocused:!0,onChange:o=>r("email",o.target.value)}),e.jsx(u,{message:n.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(x,{htmlFor:"password",value:"Password"}),e.jsx(f,{id:"password",type:"password",name:"password",value:t.password,className:"mt-1 block w-full",autoComplete:"current-password",onChange:o=>r("password",o.target.value)}),e.jsx(u,{message:n.password,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(b,{className:"ms-4",disabled:l,children:"Log in"})})]})]})}export{E as default};
